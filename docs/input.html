

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" />
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  
  <title>Format of input data &mdash; seqgra 0.0.4 documentation</title>
  

  
  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/custom.css" type="text/css" />

  
  

  
  

  

  
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
        <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
        <script src="_static/jquery.js"></script>
        <script src="_static/underscore.js"></script>
        <script src="_static/doctools.js"></script>
        <script src="https://www.googletagmanager.com/gtag/js?id=G-0TESVPJ2C2"></script>
        <script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-0TESVPJ2C2');
</script>
    
    <script type="text/javascript" src="_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="output folder structure" href="structure.html" />
    <link rel="prev" title="ID conventions" href="ids.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="contents.html" class="icon icon-home"> seqgra
          

          
          </a>

          
            
            
              <div class="version">
                0.0.4
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">About seqgra</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="index.html">Introduction</a></li>
</ul>
<p class="caption"><span class="caption-text">Main Documentation</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="examples.html">Usage examples</a></li>
<li class="toctree-l1"><a class="reference internal" href="cmd.html">Command line utilities</a></li>
<li class="toctree-l1"><a class="reference internal" href="dd.html">Data definition</a></li>
<li class="toctree-l1"><a class="reference internal" href="md.html">Model definition</a></li>
<li class="toctree-l1"><a class="reference internal" href="common-architectures.html">Model definitions of common deep learning architectures</a></li>
<li class="toctree-l1"><a class="reference internal" href="slec.html">Simulators, Learners, Evaluators, Comparators</a></li>
<li class="toctree-l1"><a class="reference internal" href="ids.html">ID conventions</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Format of input data</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#required-files">Required files</a></li>
<li class="toctree-l2"><a class="reference internal" href="#file-format">File format</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#primary-input-files">Primary input files</a></li>
<li class="toctree-l3"><a class="reference internal" href="#secondary-input-files-annotation-files">Secondary input files (annotation files)</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="structure.html"><code class="docutils literal notranslate"><span class="pre">output</span></code> folder structure</a></li>
</ul>
<p class="caption"><span class="caption-text">Reference</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="seqgra.html">API reference</a></li>
<li class="toctree-l1"><a class="reference internal" href="py-modindex.html">Python module index</a></li>
<li class="toctree-l1"><a class="reference internal" href="genindex.html">Index</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="contents.html">seqgra</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          

















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="contents.html" class="icon icon-home"></a> &raquo;</li>
        
      <li>Format of input data</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="format-of-input-data">
<h1>Format of input data<a class="headerlink" href="#format-of-input-data" title="Permalink to this headline">¶</a></h1>
<p>This document describes the format of training, validation, and test set files
for both synthesized and experimental data. There is no difference between
synthesized and experimental data when it comes to file format or
location. However, the language referring to their location is slightly
different, with <code class="docutils literal notranslate"><span class="pre">{OUTPUT_DIR}/input/{GRAMMAR</span> <span class="pre">ID}</span></code> referring to the
synthesized data of <code class="docutils literal notranslate"><span class="pre">GRAMMAR</span> <span class="pre">ID</span></code> and <code class="docutils literal notranslate"><span class="pre">{OUTPUT_DIR}/input/{DATA</span> <span class="pre">FOLDER}</span></code>
referring to the experimental data of experiment <code class="docutils literal notranslate"><span class="pre">{DATA</span> <span class="pre">FOLDER}</span></code>.</p>
<div class="section" id="required-files">
<h2>Required files<a class="headerlink" href="#required-files" title="Permalink to this headline">¶</a></h2>
<p>Each valid input data folder contains the following files:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>{OUTPUT_DIR}
+-- input
    +-- {GRAMMAR ID}|{DATA FOLDER}
        |-- training.txt
        |-- training-annotation.txt
        |-- validation.txt
        |-- validation-annotation.txt
        |-- test.txt
        |-- test-annotation.txt
</pre></div>
</div>
<p>For synthesized data, these files are generated automatically.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Synthesized input data folders contain additional files not present in
input folders of experimental data, including a session info file
(<code class="docutils literal notranslate"><span class="pre">session-info.txt</span></code>) and two grammar heatmap files
(<code class="docutils literal notranslate"><span class="pre">*-grammar-heatmap.pdf</span></code> and <code class="docutils literal notranslate"><span class="pre">*-grammar-heatmap.txt</span></code>) for each set
(training, validation, test).</p>
</div>
</div>
<div class="section" id="file-format">
<h2>File format<a class="headerlink" href="#file-format" title="Permalink to this headline">¶</a></h2>
<p>seqgra recognizes primary and secondary input files, which are described in
detail below. Both categories of files have two columns (tab-delimited) and
start with a header row. Each subsequent row is a training, validation,
or test example. Row <em>i</em> in the secondary file corresponds to row <em>i</em> in the
primary file of the same set (e.g., <code class="docutils literal notranslate"><span class="pre">training.txt</span></code> and
<code class="docutils literal notranslate"><span class="pre">training-annotation.txt</span></code>).</p>
<div class="section" id="primary-input-files">
<h3>Primary input files<a class="headerlink" href="#primary-input-files" title="Permalink to this headline">¶</a></h3>
<p><code class="docutils literal notranslate"><span class="pre">training.txt</span></code>, <code class="docutils literal notranslate"><span class="pre">validation.txt</span></code>, and <code class="docutils literal notranslate"><span class="pre">test.txt</span></code> are considered primary
input files, containing the following columns:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">x</span></code>: DNA or protein sequence (upper-case IUPAC single letter codes, ambiguity codes not allowed)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">y</span></code>: one class label (for multi-class classification) or zero, one, or more labels (for multi-label classification); labels are delimited by the character <code class="docutils literal notranslate"><span class="pre">|</span></code>, e.g., <code class="docutils literal notranslate"><span class="pre">label1|label2</span></code></p></li>
</ul>
<p><strong>Example 1 - multi-class classification, 8 classes, 150 bp DNA:</strong></p>
<p>Classes: <code class="docutils literal notranslate"><span class="pre">c1</span></code> to <code class="docutils literal notranslate"><span class="pre">c8</span></code></p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>x ⇥ y
GGGGCGCTTCTGGTAAATTTTTCTAGATGCCTCGAGGGTGCCGAGGAACCGCTAAAGCCAAAGAACTATAAAAAGACACACCAGGCGAGTCGAGCAGATAGCGTAGGGATCTGCTCTGTGGGTGCGACGCGCACGGGGGCTCCTTGATGT ⇥ c1
TAGATTGCAGCGTTTACGAGAAATACTGAAGGATGGGGCCAATGCACACCGCAAAGCGTTAGCATCCGTGTCTATGATGCAGAACCCCGTAGAGCGAACCTTGTAGGTCAAATGTCGACTTCTATTTGTCTGACATCCGCATAGAATTTT ⇥ c8
TCACAAAGATAAAGACGTGCAACCCGGCCATAGTTCCGCCACATAGCGTGACGGGCACTATGCTCGCTGGCTGAATTCGTCTGTTTAGCACCTATCCAACTATTCCAGAACACACAAAGTTCAGCTATCAGAGGCGCGCCTTAACTTTTC ⇥ c8
TAATAGAGTCCCGAACCTAGTGTTTGTTCACACAGCTTGCGTCGCCCAGCCGTCTTACCACGGGGACGTCCCCCCGTACACGCAAGGGTAGGGTAGTGCTACGGAACGTGATTGTGTTTTAACTCATCTAGCAGAAAATGTGGCTCCCTA ⇥ c2
GAGCCAGCCCTAACGGCTCGGTTTTGCAAACGTTAAGGTTTCCAGGTACGAATACACTCTACCCGCGGCAAAAAGGACCCAGAGGGTATAGCGCAAGTCAAAAACAATAGTCAACGCTTTATCTGTTCGCCCCGCGAAATAAGATGTGCG ⇥ c1
GCTCAACTCCCTTTCTTGAAATCCCTTACTTAACACAGAGATTCACCAGCCTGTCTTCGCTAAACGGCATTTTTTTAGAGGTCTACGCAATCTGCCGTGAGTGACACTTCCGTACTCTAGCCCCCTGGCGTTCTGATCCCGGCTGCCTCA ⇥ c3
[...]
</pre></div>
</div>
<p><strong>Example 2 - multi-label classification, 2 labels, 150 bp DNA:</strong></p>
<p>Labels: <code class="docutils literal notranslate"><span class="pre">c1</span></code>, <code class="docutils literal notranslate"><span class="pre">c2</span></code></p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>x ⇥ y
AGGAGATTGAAGGAGGGAAGTGATGTCAGGTGAATTACTGCCCCCTGGTGGCCAGACACAGTAATGGGCTCATTTTGCTGTAATAGTCCTTTGAGTCTTTTCTTCCTGCGTTCCCCTGCCATCTTCCACTACCGGCTACAAAGGGGTTAC ⇥ c1
GACAGAATGTTTAATCCATTCCAGCCATGCATTTGCATCTCGGTACCGTTTCAATTGGTAGAGTTTGCTTTAGATCTTTAACCTCTACAATGGTCACTTTGGTTTTGTCATTGGGTGTTTGTTTAGAAGGGGATGAAGGGGGTGGGGGAA ⇥ c1
AGCAGAATTTTTAAAATTTGATCTAGCAGGAGCCAGTGGGCTTTCCCTGTGTCTAGTGTGTCCAAACCGGGTGCAGGTCAGGAGTTAGGCATTTGATTCACTGAAAGATGCAAGGCTAGGAGTATGCCCATTATCTACCAGAACGCCCAG ⇥
GAGCAGCAGTGAGAGGTGGTCGCTAGTAGTGCCTTTTTTCAGCTCTTTGTCAGTTACAGTGTCTTCGGTATCAAGCCTTGAGCCTAAGGTGTGCTTAAACGGCATCTTCCCGATGGGCAGGGCACTGAGAGTTCCTACCGGGCGCTGCCA ⇥
TGCCTTGTGTGTTACAATTGCTAATGATGTTAATACTACTTGTGGAGCATACCAGGACTGGGAAAGATTGGTTGTACAAAAATACAAGGAAAACATTCATCATTCATTTTTTTCTCATCATCATACTCCCCAACCCCACAAGAAATCAAG ⇥ c2
TAGCTGAGAGTCTAGCCCCTTTTACAGGTCAGAATAGGAAACATTTGCCATCTATTGTCTCTAAGGATGGCCACCTAGGAGACTTCATCTACATAATAAGAACCTTAGTGTCCACCACCCCTTATCTTAATCCAGGCATTCCTTTCTGTT ⇥ c1|c2
[...]
</pre></div>
</div>
</div>
<div class="section" id="secondary-input-files-annotation-files">
<h3>Secondary input files (annotation files)<a class="headerlink" href="#secondary-input-files-annotation-files" title="Permalink to this headline">¶</a></h3>
<p><code class="docutils literal notranslate"><span class="pre">training-annotation.txt</span></code>, <code class="docutils literal notranslate"><span class="pre">validation-annotation.txt</span></code>, and
<code class="docutils literal notranslate"><span class="pre">test-annotation.txt</span></code> are considered secondary
input files, containing the following columns:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">annotation</span></code>: this column annotates each position in the sequence in column <code class="docutils literal notranslate"><span class="pre">x</span></code> as either part of the grammar (<code class="docutils literal notranslate"><span class="pre">G</span></code>) or part of the background (<code class="docutils literal notranslate"><span class="pre">_</span></code>)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">y</span></code>: same as column <code class="docutils literal notranslate"><span class="pre">y</span></code> in primary input file</p></li>
</ul>
<p><strong>Example 1 - multi-class classification, 2 classes, 65 bp DNA:</strong></p>
<p>Classes: <code class="docutils literal notranslate"><span class="pre">c1</span></code>, <code class="docutils literal notranslate"><span class="pre">c2</span></code></p>
<p>In this example the relevant positions are always the 5 central positions.</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>annotation ⇥ y
______________________________GGGGG______________________________ ⇥ c2
______________________________GGGGG______________________________ ⇥ c2
______________________________GGGGG______________________________ ⇥ c1
______________________________GGGGG______________________________ ⇥ c1
______________________________GGGGG______________________________ ⇥ c1
______________________________GGGGG______________________________ ⇥ c2
______________________________GGGGG______________________________ ⇥ c2
______________________________GGGGG______________________________ ⇥ c2
______________________________GGGGG______________________________ ⇥ c2
______________________________GGGGG______________________________ ⇥ c1
[...]
</pre></div>
</div>
<p><strong>Example 2 - multi-label classification, 2 labels, 65 bp DNA:</strong></p>
<p>Labels: <code class="docutils literal notranslate"><span class="pre">ESC</span></code>, <code class="docutils literal notranslate"><span class="pre">DE</span></code></p>
<p>Here the relevant positions are variable and the underlying grammar contains
interactions between different parts of the sequence.</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>annotation ⇥ y
_____________________GGGGGGGG____________________________________ ⇥ ESC
_____GGGGGGGG_______________________________________GGGGGGGG_____ ⇥ ESC
_________________________________________________________________ ⇥
GGGG_____________GGGGGGGG___________GGGGGGGG_____________________ ⇥ DE|ESC
_GGGGGGGG__GGGGGGGG______________________________GGGGGGGG________ ⇥ DE|ESC
GGGGGGGGGGGG__GGGGGGGG___________________GGGGGGGG________________ ⇥ DE|ESC
_____________________________________GGGGGGGG____________________ ⇥ ESC
_______________________________________GGGGGGGG_GGGGGGGG_________ ⇥ DE|ESC
GGG______________________________________________________________ ⇥ DE
_________________GGGGGGGG__GGGGGGGG______________________________ ⇥ DE
[...]
</pre></div>
</div>
</div>
</div>
</div>


           </div>
           
          </div>
          <footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
        <a href="structure.html" class="btn btn-neutral float-right" title="output folder structure" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
        <a href="ids.html" class="btn btn-neutral float-left" title="ID conventions" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>
        &#169; Copyright 2021, Konstantin Krismer.

    </p>
  </div>
    
    
    
    Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>
        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>